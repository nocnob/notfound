{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/spring-oauth2-resource-server/","result":{"data":{"asciidoc":{"id":"701a8ace-23c9-5945-9f20-a3689c4f53b0","html":"<div class=\"sect1\">\n<h2 id=\"_token_认证过程\"><a class=\"anchor\" href=\"#_token_认证过程\"></a>TOKEN 认证过程</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>BearerTokenAuthenticationFilter#doFilterInternal</code> 验证 Token</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>JwtAuthenticationProvider#authenticate</code></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>JwtAuthenticationProvider#getJwt</code></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>NimbusJwtDecoder#decode</code> 将字符串 TOKEN 转换为 Jwt</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>NimbusJwtDecoder#parse</code> 解析TOKEN 获得 SignedJWT 对象</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>NimbusJwtDecoder.parse</code></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>SignedJWT#parse</code> 创建 SignedJWT</p>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><code>JwtAuthenticationProvider#createJwt</code> 通过 SignedJWT 创建 JWT</p>\n</li>\n<li>\n<p><code>DefaultJWTProcessor#process</code> 验证签名</p>\n</li>\n<li>\n<p>使用 <code>Jwt.Builder</code> 创建 Jwt 返回</p>\n</li>\n<li>\n<p><code>JwtAuthenticationProvider#validateJwt</code> 验证 Jwt</p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>DelegatingOAuth2TokenValidator#validate</code></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>JwtTimestampValidator#validate</code> 验证是否过期</p>\n</li>\n<li>\n<p><code>JwtIssuerValidatorv#validate</code></p>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>JwtClaimValidator#validate</code> 验证声明</p>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</li>\n<li>\n<p><code>JwtAuthenticationConverter#convert</code> 使用 jwt 创建认证对象 JwtAuthenticationToken</p>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_参考\"><a class=\"anchor\" href=\"#_参考\"></a>参考</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://github.com/spring-projects/spring-authorization-server/tree/0.2.0/samples/boot/oauth2-integration\" class=\"bare\">https://github.com/spring-projects/spring-authorization-server/tree/0.2.0/samples/boot/oauth2-integration</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","document":{"title":"Spring OAuth2 资源服务器"},"pageAttributes":{"slug":"spring-oauth2-resource-server","category":"spring"},"revision":{"date":"2021-11-20","number":"1.0"}}},"pageContext":{"id":"701a8ace-23c9-5945-9f20-a3689c4f53b0","pageAttributes__slug":"spring-oauth2-resource-server","__params":{"pageAttributes__slug":"spring-oauth2-resource-server"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}