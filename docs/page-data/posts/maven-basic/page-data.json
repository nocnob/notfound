{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/maven-basic/","result":{"data":{"asciidoc":{"id":"2991a9a9-9427-50d6-b06b-8c358ad7482e","html":"<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>Apache Maven 3.6.3</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_生成_maven_工程\"><a class=\"anchor\" href=\"#_生成_maven_工程\"></a>生成 maven 工程</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"_单模块\"><a class=\"anchor\" href=\"#_单模块\"></a>单模块</h3>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">mvn archetype:generate \\\n  -DarchetypeGroupId=org.apache.maven.archetypes \\\n  -DarchetypeArtifactId=maven-archetype-quickstart \\\n  -DarchetypeVersion=1.4 \\\n  -DarchetypeCatalog=internal \\\n  -DgroupId=com.example \\\n  -DartifactId=demo \\\n  -Dversion=0.0.1-SNAPSHOT \\\n  -Dpackage=com.example.demo</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p><code>pom.xml</code> 修改编译目标版本：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_编译测试打包等\"><a class=\"anchor\" href=\"#_编译测试打包等\"></a>编译、测试、打包等</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 移除 target 目录\nmvn clean\n# 编译\nmvn compile\n# 测试\nmvn test\n# 打包\nmvn package\n# 安装\nmvn install</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_可执行_jar\"><a class=\"anchor\" href=\"#_可执行_jar\"></a>可执行 jar</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>默认情况 jar 找不到 Main 方法：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-text\" data-lang=\"text\">$ java -jar target/demo-0.0.1-SNAPSHOT.jar\ntarget/demo-0.0.1-SNAPSHOT.jar中没有主清单属性</code></pre>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_运行时指定入口\"><a class=\"anchor\" href=\"#_运行时指定入口\"></a>运行时指定入口</h3>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-text\" data-lang=\"text\">java -cp target/demo-0.0.1-SNAPSHOT.jar com.example.demo.App</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_maven_shade_plugin\"><a class=\"anchor\" href=\"#_maven_shade_plugin\"></a>maven-shade-plugin</h3>\n<div class=\"paragraph\">\n<p>在 <code>pom.xml</code> 中添加：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-xml\" data-lang=\"xml\">  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ManifestResourceTransformer\"&gt;\n                  &lt;mainClass&gt;com.example.demo.App&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_发布\"><a class=\"anchor\" href=\"#_发布\"></a>发布</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>TODO</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_参考\"><a class=\"anchor\" href=\"#_参考\"></a>参考</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"http://maven.apache.org/archetypes/maven-archetype-quickstart/\">Maven Quickstart Archetype</a></p>\n</li>\n<li>\n<p><a href=\"http://maven.apache.org/plugins/maven-shade-plugin/examples/executable-jar.html\">Executable JAR</a></p>\n</li>\n<li>\n<p><a href=\"https://maven.apache.org/archetype/maven-archetype-plugin/examples/create-multi-module-project.html\">Create an archetype from a multi-module project</a></p>\n</li>\n<li>\n<p><a href=\"https://stackoverflow.com/questions/6328778/how-to-create-an-empty-multi-module-maven-project\" class=\"bare\">https://stackoverflow.com/questions/6328778/how-to-create-an-empty-multi-module-maven-project</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","document":{"title":"Maven 基本使用"},"pageAttributes":{"slug":"maven-basic","category":"java"},"revision":{"date":"2020-05-19","number":"1.0"}}},"pageContext":{"id":"2991a9a9-9427-50d6-b06b-8c358ad7482e","pageAttributes__slug":"maven-basic","__params":{"pageAttributes__slug":"maven-basic"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}