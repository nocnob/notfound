{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/linux-install-manjaro/","result":{"data":{"asciidoc":{"id":"66b4709b-636b-59eb-8ae5-7c09c06d4037","html":"<div class=\"sect1\">\n<h2 id=\"_安装_manjaro\"><a class=\"anchor\" href=\"#_安装_manjaro\"></a>安装 manjaro</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"_添加源\"><a class=\"anchor\" href=\"#_添加源\"></a>添加源</h3>\n<div class=\"paragraph\">\n<p>编辑文件 <code>/etc/pacman.d/mirrorlist</code> ：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-conf\" data-lang=\"conf\">Server = https://mirrors.tuna.tsinghua.edu.cn/manjaro/stable/$repo/$arch</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Arch Linux 中文社区仓库是由 Arch Linux 中文社区驱动的非官方用户仓库，包含中文用户常用软件、工具、字体/美化包等。编辑文件 <code>/etc/pacman.conf</code> ：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-conf\" data-lang=\"conf\">[archlinuxcn]\nServer = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_手动安装_aur_包\"><a class=\"anchor\" href=\"#_手动安装_aur_包\"></a>手动安装 AUR 包</h3>\n<div class=\"paragraph\">\n<p>如 安装 dingtalk</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">git clone https://aur.archlinux.org/dingtalk-linux.git\ncd dingtalk-linux\nmakepkg -si</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_使用_yay_安装_aur_包\"><a class=\"anchor\" href=\"#_使用_yay_安装_aur_包\"></a>使用 yay 安装 aur 包</h3>\n<div class=\"paragraph\">\n<p>安装 yay</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo pacman -Sy yay</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>之后可以通过 yay 安装 aur 中的软件，如:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 安装软件\nyay -S packagename\n# 移除包\nyay -R packagename\n# 移除包以及不需要的依赖\nyay -Rns packagename\n# 移除不需要的软件包\nyay -Yc</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_版本回退\"><a class=\"anchor\" href=\"#_版本回退\"></a>版本回退</h3>\n<div class=\"paragraph\">\n<p>安装包保存在 <code>/var/cache/pacman/pkg</code> 目录中，通过如下命令安装老版本：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo pacman -U /var/cache/pacman/pkg/redis-6.0.10-1-x86_64.pkg.tar.zst</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>编辑文件 <code>/etc/pacman.conf</code> 忽略 <code>redis</code> 更新：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-conf\" data-lang=\"conf\"># [options] 节点\nIgnorePkg=redis</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_密码错误锁定\"><a class=\"anchor\" href=\"#_密码错误锁定\"></a>密码错误锁定</h3>\n<div class=\"paragraph\">\n<p>编辑文件 <code>/etc/security/faillock.conf</code></p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>deny</code> 尝试次数</p>\n</li>\n<li>\n<p><code>unlock_time</code> 锁定时间</p>\n</li>\n</ul>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_windows_字体\"><a class=\"anchor\" href=\"#_windows_字体\"></a>Windows 字体</h3>\n<div class=\"paragraph\">\n<p>复制 Windows 字体，之后可以将 UI 字体改成微软雅黑：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo mkdir /usr/share/fonts/WindowsFonts\nsudo cp /run/media/user/Windows/Windows/Fonts/* /usr/share/fonts/WindowsFonts\nsudo chmod 755 /usr/share/fonts/WindowsFonts/*\nsudo fc-cache -f</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>终端字体 <code>Cascadia Code</code></p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo pacman -Sy ttf-cascadia-code</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_pacman_常用命令\"><a class=\"anchor\" href=\"#_pacman_常用命令\"></a>pacman 常用命令</h3>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 远程数据库中查询软件包\npacman -Ss gimp\n# 本地数据库与远程数据库同步、升级所有软件包\nsudo pacman -Syu\n# 在本地数据库中查看软件包中的内容\npacman -Ql protobuf\n# 删除未使用的依赖\nsudo pacman -Rs $(pacman -Qdtq)</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_xclip\"><a class=\"anchor\" href=\"#_xclip\"></a>xclip</h3>\n<div class=\"paragraph\">\n<p>剪切板工具。</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 复制文件\nxclip -selection clipboard test.txt\n# 复制管道\nuptime | xclip -selection clipboard\n# 输出\nxclip -o\nxclip -o &gt; out.txt</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_kde_wallet_kde_钱包\"><a class=\"anchor\" href=\"#_kde_wallet_kde_钱包\"></a>KDE wallet (KDE 钱包)</h3>\n<div class=\"paragraph\">\n<p>凭据管理器。</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 保存密码\nkwallet-query -f test -w notfound kdewallet\n# 读取密码\nkwallet-query -f test -r notfound kdewallet\n# 读取并复制，末尾会有换行符\nkwallet-query -f test -r notfound kdewallet | xclip -selection clipboard</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>-f test</code> 指定 kwallet 文件夹 <code>test</code></p>\n</li>\n<li>\n<p><code>-r notfound</code> 读取 <code>notfound</code> entry</p>\n</li>\n<li>\n<p><code>-w notfound</code> 写入 <code>notfound</code> entry</p>\n</li>\n<li>\n<p><code>wallet</code> wallet 名称</p>\n</li>\n</ul>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_参考\"><a class=\"anchor\" href=\"#_参考\"></a>参考</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://www.makeuseof.com/how-to-install-and-remove-packages-arch-linux\" class=\"bare\">https://www.makeuseof.com/how-to-install-and-remove-packages-arch-linux</a></p>\n</li>\n<li>\n<p><a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/archlinuxcn/\" class=\"bare\">https://mirrors.tuna.tsinghua.edu.cn/help/archlinuxcn/</a></p>\n</li>\n<li>\n<p><a href=\"https://zhuanlan.zhihu.com/p/114904008\" class=\"bare\">https://zhuanlan.zhihu.com/p/114904008</a></p>\n</li>\n<li>\n<p><a href=\"https://wiki.archlinux.org/index.php/Pacman%5F(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87\" class=\"bare\">https://wiki.archlinux.org/index.php/Pacman%5F(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87</a>)</p>\n</li>\n<li>\n<p><a href=\"https://blog.csdn.net/qq%5F37284020/article/details/112206977\" class=\"bare\">https://blog.csdn.net/qq%5F37284020/article/details/112206977</a></p>\n</li>\n<li>\n<p><a href=\"https://wiki.archlinux.org/index.php/Microsoft%5Ffonts%5F(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87\" class=\"bare\">https://wiki.archlinux.org/index.php/Microsoft%5Ffonts%5F(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87</a>)</p>\n</li>\n<li>\n<p><a href=\"https://sleeplessbeastie.eu/2012/08/12/git-how-to-avoid-typing-your-password-repeatedly/\" class=\"bare\">https://sleeplessbeastie.eu/2012/08/12/git-how-to-avoid-typing-your-password-repeatedly/</a></p>\n</li>\n<li>\n<p><a href=\"https://wiki.archlinux.org/index.php/KDE%5FWallet\" class=\"bare\">https://wiki.archlinux.org/index.php/KDE%5FWallet</a></p>\n</li>\n<li>\n<p><a href=\"https://wiki.archlinux.org/index.php/Clipboard\" class=\"bare\">https://wiki.archlinux.org/index.php/Clipboard</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>","document":{"title":"Manjaro 安装记录"},"pageAttributes":{"slug":"linux-install-manjaro","category":"linux"},"revision":{"date":"2021-03-20","number":"1.0"}}},"pageContext":{"id":"66b4709b-636b-59eb-8ae5-7c09c06d4037","pageAttributes__slug":"linux-install-manjaro","__params":{"pageAttributes__slug":"linux-install-manjaro"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}