{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/java-spring-servlet-filter/","result":{"data":{"asciidoc":{"id":"2cf2997e-6497-5140-a54a-8267c3fd4a73","html":"<div class=\"sect1\">\n<h2 id=\"_spring_boot_添加_servlet_以及_filter\"><a class=\"anchor\" href=\"#_spring_boot_添加_servlet_以及_filter\"></a>Spring Boot 添加 servlet 以及 filter</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>OpenJDK 11</p>\n</li>\n<li>\n<p>Gradle 6.8</p>\n</li>\n</ul>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_依赖\"><a class=\"anchor\" href=\"#_依赖\"></a>依赖</h3>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-groovy\" data-lang=\"groovy\">implementation 'org.springframework.boot:spring-boot-starter-web'</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_servlet\"><a class=\"anchor\" href=\"#_servlet\"></a>servlet</h3>\n<div class=\"sect3\">\n<h4 id=\"_servletwrappingcontroller\"><a class=\"anchor\" href=\"#_servletwrappingcontroller\"></a>ServletWrappingController</h4>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">@Bean\npublic ServletWrappingController wrappingController() {\n    ServletWrappingController controller = new ServletWrappingController();\n    controller.setServletClass(WrappingServlet.class);\n    controller.setServletName(\"wrapping-servlet\");\n    return controller;\n}\n\n@Bean\npublic SimpleUrlHandlerMapping urlHandlerMapping() {\n    SimpleUrlHandlerMapping mapping = new SimpleUrlHandlerMapping();\n    mapping.setUrlMap(Map.of(\"/wrapping/*\", \"wrappingController\"));\n    mapping.setOrder(Ordered.LOWEST_PRECEDENCE  - 2);\n    return mapping;\n}</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>req.getPathInfo()</code> 为 <code>null</code></p>\n</li>\n</ul>\n</div>\n</div>\n<div class=\"sect3\">\n<h4 id=\"_servletregistrationbean\"><a class=\"anchor\" href=\"#_servletregistrationbean\"></a>ServletRegistrationBean</h4>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">@Bean\npublic ServletRegistrationBean&lt;HelloServlet&gt; helloServletServletRegistrationBean() {\n    ServletRegistrationBean&lt;HelloServlet&gt; registration = new ServletRegistrationBean&lt;&gt;();\n    registration.setServlet(new HelloServlet());\n    registration.setUrlMappings(List.of(\"/hello/*\"));\n    return registration;\n}</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>req.getPathInfo()</code> 为 <code>*</code> 的内容</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_filter\"><a class=\"anchor\" href=\"#_filter\"></a>filter</h3>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-java\" data-lang=\"java\">@Bean\npublic FilterRegistrationBean&lt;HelloFilter&gt; helloFilterFilterRegistrationBean() {\n    FilterRegistrationBean&lt;HelloFilter&gt; registration = new FilterRegistrationBean&lt;&gt;();\n    registration.setFilter(new HelloFilter());\n    return registration;\n}</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_参考\"><a class=\"anchor\" href=\"#_参考\"></a>参考</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://stackoverflow.com/questions/55248304/how-to-declare-servlet-on-root-path-without-overriding-spring-mvc-controllers\" class=\"bare\">https://stackoverflow.com/questions/55248304/how-to-declare-servlet-on-root-path-without-overriding-spring-mvc-controllers</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n</div>","document":{"title":"Spring Boot 添加 servlet 以及 filter"},"pageAttributes":{"slug":"java-spring-servlet-filter","category":"spring"},"revision":{"date":"2021-04-14","number":"1.0"}}},"pageContext":{"id":"2cf2997e-6497-5140-a54a-8267c3fd4a73","pageAttributes__slug":"java-spring-servlet-filter","__params":{"pageAttributes__slug":"java-spring-servlet-filter"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}