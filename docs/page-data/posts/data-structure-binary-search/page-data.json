{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/data-structure-binary-search/","result":{"data":{"asciidoc":{"id":"4e4c4f63-0661-5477-b98f-69d4378efc0d","html":"<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>阅读 gem <a href=\"https://github.com/discourse/mini_mime\">mini_mime</a> 源码，发现了作者通过二分查找在文件中https://github.com/discourse/mini_mime/blob/b588e0f876d0bc36c30e7581d397b813d26e69c8/lib/mini_mime.rb#L126[定位数据]，所以简单回顾一下。</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_算法实现\"><a class=\"anchor\" href=\"#_算法实现\"></a>算法实现</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>二分查找，每次折半。</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-ruby\" data-lang=\"ruby\">#!/bin/env ruby\n\ndef log(data, from, to)\n  result = data.each_with_index.map do |d, index|\n    if from == to &amp;&amp; from == index\n      \"[#{d}]\"\n    elsif from == index\n      \"[#{d} \"\n    elsif to == index\n      \" #{d}]\"\n    else\n      \" #{d} \"\n    end\n  end\n\n  puts result.join\nend\n\ndef binary_search(data, value)\n  puts \"length #{data.length}, search #{value}...\"\n\n  from = 0\n  to = data.length - 1\n\n  while from &lt;= to\n    log(data, from, to)\n\n    mid = from + (to - from ) / 2\n    d = data[mid]\n\n    if value &lt; d\n      to = mid - 1\n    elsif value &gt; d\n      from = mid + 1\n    else\n      puts \"find value #{d}\"\n      return\n    end\n  end\n  puts \"not found\"\nend\n\ndef main\n  length = 20 + rand(10)\n  data = length.times.map { rand(99) }.sort\n  binary_search(data, rand(99))\nend\n\nmain</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>只能处理已经排序的数据</p>\n</li>\n<li>\n<p>数据需要支持随机读取</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>算法简单高效。</p>\n</div>\n</div>\n</div>","document":{"title":"二分查找"},"pageAttributes":{"slug":"data-structure-binary-search","category":"data"},"revision":{"date":"2020-05-18","number":"1.0"}}},"pageContext":{"id":"4e4c4f63-0661-5477-b98f-69d4378efc0d","pageAttributes__slug":"data-structure-binary-search","__params":{"pageAttributes__slug":"data-structure-binary-search"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}