{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/linux-cmd-find/","result":{"data":{"asciidoc":{"id":"9823eec5-cd33-5431-b0bb-51752c922aa3","html":"<div class=\"sect1\">\n<h2 id=\"_删除空目录\"><a class=\"anchor\" href=\"#_删除空目录\"></a>删除空目录</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">find . -maxdepth 1 -mindepth 1 -type d -empty -print -delete</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>maxdepth</code> 目录最大深度</p>\n</li>\n<li>\n<p><code>mindepth</code> 目录最小深度</p>\n</li>\n<li>\n<p><code>type</code> 类型 <code>d</code> 为目录</p>\n</li>\n<li>\n<p><code>empty</code> 空文件或者目录</p>\n</li>\n<li>\n<p><code>print</code> 标准输出打印文件路径</p>\n</li>\n<li>\n<p><code>delete</code> 执行删除操作</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_删除_30_天前的所有文件\"><a class=\"anchor\" href=\"#_删除_30_天前的所有文件\"></a>删除 30 天前的所有文件</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">find . -mindepth 1 -maxdepth 1 -type d -mtime +30 -exec rm -rf {} \\;</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_清空所有文件\"><a class=\"anchor\" href=\"#_清空所有文件\"></a>清空所有文件</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">find logs/ -name \"*.log\" -type f -exec truncate -s 0 {} \\;</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>对 <code>logs</code> 目录下以 <code>.log</code> 结尾的文件执行截断操作</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_处理路径并生成字符串\"><a class=\"anchor\" href=\"#_处理路径并生成字符串\"></a>处理路径并生成字符串</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">find /opt/git-v2.35.3/bin -type f -exec sh -c 'echo \"sudo update-alternatives --install /usr/bin/$(basename {}) $(basename {}) {} 0\"' \\;</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_参考\"><a class=\"anchor\" href=\"#_参考\"></a>参考</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p>man find</p>\n</li>\n<li>\n<p><a href=\"https://www.gnu.org/software/bash/manual/html_node/Pattern-Matching.html\" class=\"bare\">https://www.gnu.org/software/bash/manual/html_node/Pattern-Matching.html</a></p>\n</li>\n<li>\n<p><a href=\"https://unix.stackexchange.com/questions/175844/use-basename-in-find-exec\" class=\"bare\">https://unix.stackexchange.com/questions/175844/use-basename-in-find-exec</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","document":{"title":"Linux 命令： Find"},"pageAttributes":{"slug":"linux-cmd-find","category":"linux"},"revision":{"date":"2021-11-30","number":"1.0"}}},"pageContext":{"id":"9823eec5-cd33-5431-b0bb-51752c922aa3","pageAttributes__slug":"linux-cmd-find","__params":{"pageAttributes__slug":"linux-cmd-find"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}