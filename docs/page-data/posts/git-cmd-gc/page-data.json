{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/git-cmd-gc/","result":{"data":{"asciidoc":{"id":"df9356a3-bd9f-54c7-b9d9-ea0abd9e7f8e","html":"<div class=\"sect1\">\n<h2 id=\"_git_gc\"><a class=\"anchor\" href=\"#_git_gc\"></a>git gc</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>GC 执行过程</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-text\" data-lang=\"text\">$ GIT_TRACE=1 git gc\n16:50:17.998696 git.c:459               trace: built-in: git gc\n16:50:17.999262 run-command.c:654       trace: run_command: git pack-refs --all --prune <i class=\"conum\" data-value=\"1\"></i><b>(1)</b>\n16:50:18.002507 git.c:459               trace: built-in: git pack-refs --all --prune\n16:50:18.003802 run-command.c:654       trace: run_command: git reflog expire --all <i class=\"conum\" data-value=\"2\"></i><b>(2)</b>\n16:50:18.005231 git.c:459               trace: built-in: git reflog expire --all\n16:50:18.005462 run-command.c:654       trace: run_command: git repack -d -l -A --unpack-unreachable=2.weeks.ago <i class=\"conum\" data-value=\"3\"></i><b>(3)</b>\n16:50:18.006393 git.c:459               trace: built-in: git repack -d -l -A --unpack-unreachable=2.weeks.ago\n16:50:18.006522 run-command.c:654       trace: run_command: git pack-objects --local --delta-base-offset objects/pack/.tmp-42192-pack --keep-true-parents --honor-pack-keep --non-empty --all --reflog --indexed-objects --write-bitmap-index-quiet --unpack-unreachable=2.weeks.ago\n16:50:18.007336 git.c:459               trace: built-in: git pack-objects --local --delta-base-offset objects/pack/.tmp-42192-pack --keep-true-parents --honor-pack-keep --non-empty --all --reflog --indexed-objects --write-bitmap-index-quiet --unpack-unreachable=2.weeks.ago\n枚举对象中: 300, 完成.\n对象计数中: 100% (300/300), 完成.\n使用 8 个线程进行压缩\n压缩对象中: 100% (104/104), 完成.\n写入对象中: 100% (300/300), 完成.\nSelecting bitmap commits: 100, 完成.\nBuilding bitmaps: 100% (100/100), 完成.\n总共 300（差异 96），复用 300（差异 96），包复用 0\n16:50:18.034975 run-command.c:654       trace: run_command: git prune --expire 2.weeks.ago <i class=\"conum\" data-value=\"4\"></i><b>(4)</b>\n16:50:18.035882 git.c:459               trace: built-in: git prune --expire 2.weeks.ago\n16:50:18.036737 run-command.c:654       trace: run_command: git worktree prune --expire 3.months.ago\n16:50:18.037520 git.c:459               trace: built-in: git worktree prune --expire 3.months.ago\n16:50:18.037686 run-command.c:654       trace: run_command: git rerere gc\n16:50:18.038516 git.c:459               trace: built-in: git rerere gc</code></pre>\n</div>\n</div>\n<div class=\"colist arabic\">\n<table>\n<tr>\n<td><i class=\"conum\" data-value=\"1\"></i><b>1</b></td>\n<td>打包 refs</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"2\"></i><b>2</b></td>\n<td>让 reflog 失效</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"3\"></i><b>3</b></td>\n<td>打包可达的 objects</td>\n</tr>\n<tr>\n<td><i class=\"conum\" data-value=\"4\"></i><b>4</b></td>\n<td>移除不可达的 objects</td>\n</tr>\n</table>\n</div>\n</div>\n</div>","document":{"title":"git gc"},"pageAttributes":{"slug":"git-cmd-gc","category":"git"},"revision":{"date":"2022-06-02","number":"1.0"}}},"pageContext":{"id":"df9356a3-bd9f-54c7-b9d9-ea0abd9e7f8e","pageAttributes__slug":"git-cmd-gc","__params":{"pageAttributes__slug":"git-cmd-gc"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}