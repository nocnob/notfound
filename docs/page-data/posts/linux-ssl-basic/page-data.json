{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/linux-ssl-basic/","result":{"data":{"asciidoc":{"id":"c0d6a48d-97eb-5516-bbc0-cfd659b7b1e3","html":"<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://zh.wikipedia.org/wiki/X.509\">X.509</a> 公钥证书的标准格式</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_编码\"><a class=\"anchor\" href=\"#_编码\"></a>编码</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>也用作文件扩展名</p>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>DER</code> 二进制编码，用于证书。可能带有`.cer`或者`.crt`的扩展名</p>\n</li>\n<li>\n<p><code>PEM</code> Base64 编码，用于证书、私钥</p>\n</li>\n<li>\n<p><code>PFX(PKCS#12)</code> 二进制编码，同时包含证书和私钥</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_文件扩展名\"><a class=\"anchor\" href=\"#_文件扩展名\"></a>文件扩展名</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>.der</code> <code>.cer</code> 二进制格式，只保存证书，不保存私钥</p>\n</li>\n<li>\n<p><code>.crt</code> 二进制或文本格式，只保存证书，不保存私钥</p>\n</li>\n<li>\n<p><code>.pem</code> 文本格式，可保存证书、私钥，或者都包含</p>\n</li>\n<li>\n<p><code>.key</code> 文本格式，仅保存私钥</p>\n</li>\n<li>\n<p><code>.pfx</code> <code>.p12</code> 二进制格式，同时包含证书和私钥</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_转换\"><a class=\"anchor\" href=\"#_转换\"></a>转换</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>PEM 转换为 DER：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl x509 -in demoCA/cacert.pem -outform der -out demoCA/cacert.der</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>DER 转换为 PEM：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl x509 -in demoCA/cacert.der -inform der -outform pem -out cert.pem</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>PEM 转换为 PKCS12：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl pkcs12 -inkey demo.ca.test.key -in demo.ca.test.crt --export --out demo.ca.test.pfx</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>PKCS12 转换为 PEM：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl pkcs12 -in demo.ca.test.pfx -out for-iis.pem -nodes</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_查看\"><a class=\"anchor\" href=\"#_查看\"></a>查看</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>查看 DER 格式证书：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl x509 -in demoCA/cacert.der -inform der -text -noout</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>查看 PEM 格式证书：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl x509 -in demoCA/cacert.pem -text -noout</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>查看 PKCS12 ：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">openssl pkcs12 -in demo.ca.test.pfx</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_参考\"><a class=\"anchor\" href=\"#_参考\"></a>参考</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><a href=\"https://blog.freessl.cn/ssl-cert-format-introduce/\" class=\"bare\">https://blog.freessl.cn/ssl-cert-format-introduce/</a></p>\n</li>\n<li>\n<p><a href=\"https://zh.wikipedia.org/wiki/PKCS_12\" class=\"bare\">https://zh.wikipedia.org/wiki/PKCS_12</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","document":{"title":"SSL 证书格式与转换"},"pageAttributes":{"slug":"linux-ssl-basic","category":"linux"},"revision":{"date":"2021-11-27","number":"1.0"}}},"pageContext":{"id":"c0d6a48d-97eb-5516-bbc0-cfd659b7b1e3","pageAttributes__slug":"linux-ssl-basic","__params":{"pageAttributes__slug":"linux-ssl-basic"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}