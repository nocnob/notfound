{"componentChunkName":"component---src-pages-posts-asciidoc-page-attributes-slug-tsx","path":"/posts/linux-install-ubuntu/","result":{"data":{"asciidoc":{"id":"eff1642c-52a2-5023-bc96-c155936ee60a","html":"<div id=\"preamble\">\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>安装时选择语言为英文，以创建英文目录。</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_卸载\"><a class=\"anchor\" href=\"#_卸载\"></a>卸载</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt purge --autoremove apport\nsudo apt purge --autoremove avahi-daemon</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>apport</code> 错误收集程序</p>\n</li>\n<li>\n<p><code>avahi-daemon</code> 造成过网络异常，用处也不大，卸载</p>\n</li>\n</ul>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_安装\"><a class=\"anchor\" href=\"#_安装\"></a>安装</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install gnome-shell-extensions\nsudo apt install gnome-tweaks\nsudo apt install terminator</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>gnome-shell-extensions</code> gnome 扩展管理工具</p>\n</li>\n<li>\n<p><code>gnome-tweaks</code> 可调整字体缩放，曲线解决高分辨率缩放字体模糊</p>\n</li>\n<li>\n<p><code>terminator</code> 可分屏终端</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>参考 <a href=\"https://www.fosslinux.com/44375/install-gnome-tweak-tool-ubuntu.htm\" class=\"bare\">https://www.fosslinux.com/44375/install-gnome-tweak-tool-ubuntu.htm</a></p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_gnome_插件\"><a class=\"anchor\" href=\"#_gnome_插件\"></a>Gnome 插件</h3>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>主题插件 <a href=\"https://extensions.gnome.org/extension/19/user-themes/\" class=\"bare\">https://extensions.gnome.org/extension/19/user-themes/</a></p>\n</li>\n<li>\n<p>自动隐藏顶部栏 <a href=\"https://extensions.gnome.org/extension/545/hide-top-bar\" class=\"bare\">https://extensions.gnome.org/extension/545/hide-top-bar</a></p>\n</li>\n<li>\n<p>通知弹窗右侧 <a href=\"https://extensions.gnome.org/extension/4105/notification-banner-position/\" class=\"bare\">https://extensions.gnome.org/extension/4105/notification-banner-position/</a></p>\n</li>\n<li>\n<p>网速显示 <a href=\"https://extensions.gnome.org/extension/4308/network-stats/\" class=\"bare\">https://extensions.gnome.org/extension/4308/network-stats/</a></p>\n</li>\n</ul>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_关闭动画\"><a class=\"anchor\" href=\"#_关闭动画\"></a>关闭动画</h3>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">gsettings set org.gnome.desktop.interface enable-animations false</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_wayland\"><a class=\"anchor\" href=\"#_wayland\"></a>Wayland</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>Wayland 不稳定，当前不建议开启</p>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_chrome_开启_wayland\"><a class=\"anchor\" href=\"#_chrome_开启_wayland\"></a>Chrome 开启 wayland</h3>\n<div class=\"paragraph\">\n<p>编辑 <code>/usr/share/applications/google-chrome.desktop</code>:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-conf\" data-lang=\"conf\">Exec=/usr/bin/google-chrome-stable --enable-features=UseOzonePlatform --ozone-platform=wayland %U</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>添加 <code>--enable-features=UseOzonePlatform</code> 和 <code>--ozone-platform=wayland</code> 可解决浏览器字体模糊</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>参考 <a href=\"https://pychao.com/2021/01/04/using-google-chrome-chromium-with-native-wayland-backend-in-arch-linux/\" class=\"bare\">https://pychao.com/2021/01/04/using-google-chrome-chromium-with-native-wayland-backend-in-arch-linux/</a></p>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_登陆窗口分辨率\"><a class=\"anchor\" href=\"#_登陆窗口分辨率\"></a>登陆窗口分辨率</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>将当前用户配置复制到 gdm 用户目录:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo cp ~/.config/monitors.xml ~gdm/.config/monitors.xml\nsudo chown gdm:gdm ~gdm/.config/monitors.xml</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>编辑 <code>/etc/gdm3/custom.conf</code>:</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-toml\" data-lang=\"toml\">WaylandEnable=false</code></pre>\n</div>\n</div>\n<div class=\"ulist\">\n<ul>\n<li>\n<p>关闭了 wayland 和上一条冲突</p>\n</li>\n</ul>\n</div>\n<div class=\"paragraph\">\n<p>参考 <a href=\"https://albertomatus.com/changing-login-display-in-ubuntu-20-04/\" class=\"bare\">https://albertomatus.com/changing-login-display-in-ubuntu-20-04/</a></p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_git_vim\"><a class=\"anchor\" href=\"#_git_vim\"></a>Git &amp; Vim</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>安装：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install git vim</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>配置 Git：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">git config --global user.name $NAME\ngit config --global user.email $EMAIL\n\ngit config --global credential.helper cache\ngit config --global core.editor vim\ngit config --global core.quotepath false\ngit config --global diff.tool vimdiff\ngit config --global difftool.prompt no\ngit config --global grep.lineNumber true</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_oh_my_zsh\"><a class=\"anchor\" href=\"#_oh_my_zsh\"></a>oh-my-zsh</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install zsh\nsh -c \"$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)\"</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>编辑 <code>~/.zshrc</code> ，添加 <code>git</code> <code>emacs</code> <code>docker</code> <code>kubectl</code> 等。</p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_emacs_spacemacs\"><a class=\"anchor\" href=\"#_emacs_spacemacs\"></a>Emacs &amp; Spacemacs</h2>\n<div class=\"sectionbody\">\n<div class=\"sect2\">\n<h3 id=\"_安装_emacs\"><a class=\"anchor\" href=\"#_安装_emacs\"></a>安装 Emacs</h3>\n<div class=\"paragraph\">\n<p>通过 ppa 下载 Emacs 最新版，下载速度太慢，所以启用代理：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo add-apt-repository ppa:kelleyk/emacs\nsudo apt install emacs27</code></pre>\n</div>\n</div>\n</div>\n<div class=\"sect2\">\n<h3 id=\"_安装配置_spacemacs\"><a class=\"anchor\" href=\"#_安装配置_spacemacs\"></a>安装配置 Spacemacs</h3>\n<div class=\"paragraph\">\n<p>使用 Spacemacs develop 分支：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">git clone -b develop https://github.com/syl20bnr/spacemacs ~/.emacs.d</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>使用 spacemacs 自定义配置，然后拉取 org 文档：</p>\n</div>\n<div class=\"paragraph\">\n<p>设置图标和环境变量(解决输入法切换)：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo vim /usr/share/applications/emacs27.desktop\n\nIcon=/home/notfound/.emacs.d/core/banners/img/spacemacs.png\nExec=env LC_ALL=zh_CN.UTF-8 emacs %F</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>gtags 跳转：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install global\nsudo apt install exuberant-ctags python-pygments\ngunzip /usr/share/doc/global/examples/gtags.conf.gz -c &gt; ~/.globalrc\necho \"export GTAGSLABEL=ctags\" &gt;&gt; ~/.zshrc</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>ag 搜索：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install silversearcher-ag</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>Hugo 安装 <a href=\"https://github.com/gohugoio/hugo/releases\" class=\"bare\">https://github.com/gohugoio/hugo/releases</a></p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">wget https://github.com/gohugoio/hugo/releases/download/v0.89.2/hugo_extended_0.89.2_Linux-64bit.deb\nsudo dpkg -i hugo_extended_0.89.2_Linux-64bit.deb</code></pre>\n</div>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_语言\"><a class=\"anchor\" href=\"#_语言\"></a>语言</h2>\n<div class=\"sectionbody\">\n<div class=\"paragraph\">\n<p>通过图形界面设置语言为中文。</p>\n</div>\n<div class=\"paragraph\">\n<p>中文字体：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install fonts-wqy-microhei fonts-wqy-zenhei</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p>emoji：</p>\n</div>\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo apt install fonts-noto-color-emoji</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_修改_dns\"><a class=\"anchor\" href=\"#_修改_dns\"></a>修改 DNS</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\">sudo vim /etc/systemd/resolved.conf\nsudo systemctl restart systemd-resolved.service\nresolvectl dns</code></pre>\n</div>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_关闭图形界面\"><a class=\"anchor\" href=\"#_关闭图形界面\"></a>关闭图形界面</h2>\n<div class=\"sectionbody\">\n<div class=\"listingblock\">\n<div class=\"content\">\n<pre class=\"highlight\"><code class=\"language-bash\" data-lang=\"bash\"># 获取默认启动\nsudo systemctl get-default\n# 开机不启动图形界面\nsudo systemctl set-default multi-user.target\n# 开机启动图形界面\nsudo systemctl set-default graphical.target</code></pre>\n</div>\n</div>\n<div class=\"paragraph\">\n<p><a href=\"https://linuxconfig.org/how-to-disable-enable-gui-on-boot-in-ubuntu-20-04-focal-fossa-linux-desktop\">参考</a></p>\n</div>\n</div>\n</div>\n<div class=\"sect1\">\n<h2 id=\"_其他\"><a class=\"anchor\" href=\"#_其他\"></a>其他</h2>\n<div class=\"sectionbody\">\n<div class=\"ulist\">\n<ul>\n<li>\n<p><code>google-chrome</code> <a href=\"https://dl.google.com/linux/direct/google-chrome-stable%5Fcurrent%5Famd64.deb\">下载</a></p>\n</li>\n<li>\n<p><code>htop</code> 升级版 top</p>\n</li>\n<li>\n<p><code>nginx</code></p>\n</li>\n<li>\n<p><code>openssh-server</code></p>\n</li>\n<li>\n<p><code>tree</code> 遍历目录下所有文件</p>\n</li>\n<li>\n<p><code>nodejs</code> 参考 <a href=\"https://github.com/nodesource/distributions/blob/master/README.md\">安装 NodeJS</a></p>\n</li>\n<li>\n<p><code>docker</code> 参考 <a href=\"https://docs.docker.com/install/linux/docker-ce/ubuntu/\">安装 Docker</a></p>\n</li>\n<li>\n<p><code>flameshot</code> 截图工具，参考 <a href=\"https://linux.cn/article-10070-1.html\">在 Linux 下截屏并编辑的最佳工具</a></p>\n</li>\n</ul>\n</div>\n</div>\n</div>","document":{"title":"Ubuntu 20.04 系统安装记录"},"pageAttributes":{"slug":"linux-install-ubuntu","category":"linux"},"revision":{"date":"2021-10-14","number":"1.0"}}},"pageContext":{"id":"eff1642c-52a2-5023-bc96-c155936ee60a","pageAttributes__slug":"linux-install-ubuntu","__params":{"pageAttributes__slug":"linux-install-ubuntu"}}},"staticQueryHashes":["3143286284"],"slicesMap":{}}